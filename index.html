<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>showcase how to create ggplots with styling according to the city of Zurich • zueriplots</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="showcase how to create ggplots with styling according to the city of Zurich">
<meta name="description" content="Code for a variety of example plots, based on ggplot, styled according to the guidelines of the city of Zurich. Package does not export anything, exists for documentation purposes.">
<meta property="og:description" content="Code for a variety of example plots, based on ggplot, styled according to the guidelines of the city of Zurich. Package does not export anything, exists for documentation purposes.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">zueriplots</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/StatistikStadtZuerich/zueriplots/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><img src="reference/figures/Hexagon_zueriplots.png" alt="Hexagon logo for zueriplots R package" align="right" height="138.5" width="138.5"></p>
<div class="section level1">
<div class="page-header"><h1 id="zueriplots">zueriplots<a class="anchor" aria-label="anchor" href="#zueriplots"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of this repository is to provide minimal code examples for <a href="https://ggplot2.tidyverse.org/" class="external-link">ggplot2</a> graphics that conform to the corporate identity/design of the <a href="https://www.stadt-zuerich.ch/portal/de/index.html" class="external-link">city of Zurich</a>. Most of the required styling is done by <a href="https://github.com/StatistikStadtZuerich/zueritheme" class="external-link">zueritheme</a>, while the <a href="https://github.com/StatistikStadtZuerich/zuericolors" class="external-link">zuericolors</a> package provide the official color palettes.</p>
<p>Note that this is an R package only for documentation purposes, it does not provide any exported functions.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>ssz_theme(...)</code> function from the <code>zueritheme</code> package provides most of the styling. However, in order for <code>ggplot2</code> graphics to conform to the corporate design, a few manual steps are still necessary. These steps will be explained below.</p>
<p>Before you can start, you have to install <code>zueritheme</code> and <code>zuericolors</code> as well as Zurich’s official font <code>HelveticaNeueLTPro</code> (only available for city employees).</p>
<p>Further below you can find code examples of the most commonly used graph types.</p>
</div>
<div class="section level2">
<h2 id="installing-the-required-packages-from-the-zueriverse">Installing the required packages from the zueriverse<a class="anchor" aria-label="anchor" href="#installing-the-required-packages-from-the-zueriverse"></a>
</h2>
<p>Install zuericolors from GitHub</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"StatistikStadtZuerich/zuericolors"</span><span class="op">)</span></span></code></pre></div>
<p>Install zueritheme from GitHub</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"StatistikStadtZuerich/zueritheme"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installing-the-font">Installing the font<a class="anchor" aria-label="anchor" href="#installing-the-font"></a>
</h2>
<p>The following instructions are intended for employees of the city of Zurich working on a Windows computer. Instructions for other operating systems are currently not available.</p>
<p><code>HelveticaNeueLTPro</code> must be ordered in the software center and installed on your computer. To make it available, it is important to copy the font-related files from <code>C:\Program Files\Common Files\Adobe\Fonts</code> to <code>c:\windows\Fonts</code>. The font’s system path will then be used in the <code>font_add()</code> function from the <code>showtext</code> package in order to import the font and make it accessible for R. <code>family</code> is the parameter that will be used when plotting within the <code>ssz_theme()</code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("rappdirs")</span></span>
<span><span class="co"># install.packages("showtext")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wch/extrafont" class="external-link">extrafont</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rappdirs.r-lib.org" class="external-link">rappdirs</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">path_to_font</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rappdirs.r-lib.org/reference/user_data_dir.html" class="external-link">user_config_dir</a></span><span class="op">(</span>roaming <span class="op">=</span> <span class="cn">FALSE</span>, os <span class="op">=</span> <span class="st">"win"</span><span class="op">)</span>, <span class="st">"Microsoft"</span>, <span class="st">"Windows"</span>, <span class="st">"Fonts"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">font_add</span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Helv"</span>,</span>
<span>         regular <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path_to_font</span>, <span class="st">"HelveticaNeueLTPro-Roman.ttf"</span><span class="op">)</span>,</span>
<span>         bold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">path_to_font</span>, <span class="st">"HelveticaNeueLTPro-Hv.ttf"</span><span class="op">)</span><span class="op">)</span></span>
<span>         </span>
<span><span class="fu">showtext_auto</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">showtext_opts</span><span class="op">(</span>dpi <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span></code></pre></div>
<p>Before creating a graphic, it is recommended to invoke <code>showtext_auto()</code> so that the graphic text is rendered using <code>showtext</code>. The resolution of the graphic is controlled by using <code>showtext_opts(dpi = 300)</code>.</p>
</div>
<div class="section level2">
<h2 id="additional-manual-styling">Additional Manual Styling<a class="anchor" aria-label="anchor" href="#additional-manual-styling"></a>
</h2>
<p>The <code>ssz_theme(...)</code> function does not take over all styling tasks that the CI/CD of the city of Zurich prescribes. Namely, the position of the axis titles as well as the spacing for the ten thousand numbers (see picture below) still need additional manual adjustment.</p>
<div class="section level3">
<h3 id="axis-titles">Axis Titles<a class="anchor" aria-label="anchor" href="#axis-titles"></a>
</h3>
<p>In <code>ggplot2</code> the axis titles are positioned relative to the axis tick labels. For <code>zueritheme</code> this means that e.g. the y-axis titles are positioned at the top left of the y-axis, right-justified at the axis tick labels.</p>
<p><img src="reference/figures/axis_text.PNG" alt="screenshot of axis text"></p>
<p>Since the position of the axis titles therefore depends on the scaling (or length of strings if categories) of the displayed variable, the title must be positioned with <code>margin(r = ...)</code> in addition to the <code>theme()</code> function in order to conform to the corporate design. The axis title should be right-justified and aligned with the axis labels. In the example below we set the right-margin to -27.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ssz_theme</span><span class="op">(</span>grid_lines <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>    margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span>t <span class="op">=</span> <span class="fl">0</span>, r <span class="op">=</span> <span class="op">-</span><span class="fl">27</span>, b <span class="op">=</span> <span class="fl">0</span>, l <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The value of the right margin of the axis title for this example should be adjusted to -27 so it looks something like this:</p>
<p><img src="reference/figures/axis_text_right.PNG" alt="Screenshot of axis alignment"></p>
</div>
<div class="section level3">
<h3 id="spacing-for-the-ten-thousand-numbers">Spacing for the Ten Thousand Numbers<a class="anchor" aria-label="anchor" href="#spacing-for-the-ten-thousand-numbers"></a>
</h3>
<p>In order to get a nice spacing for the ten thousand numbers, we need to format the labels with <code>big.mark = " "</code> when applying the <code>scale_y_continuous</code> function (or <code>scale_x_continuous</code> if numeric values are shown on the x axis).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_y_continuous</span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">x</span>,</span>
<span>                                                big.mark <span class="op">=</span> <span class="st">" "</span>, </span>
<span>                                                scientific <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>                    <span class="va">...</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ssz_theme</span><span class="op">(</span>grid_lines <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="different-plot-types">Different plot types<a class="anchor" aria-label="anchor" href="#different-plot-types"></a>
</h1>
<p>Example code for the most commonly used graphic types at <a href="https://www.stadt-zuerich.ch/prd/de/index/statistik.html" class="external-link">Statistik Stadt Zürich</a> is provided below.</p>
<div class="section level2">
<h2 id="bar-chart">Bar Chart<a class="anchor" aria-label="anchor" href="#bar-chart"></a>
</h2>
<div class="section level3">
<h3 id="simple-bar-chart">Simple Bar Chart<a class="anchor" aria-label="anchor" href="#simple-bar-chart"></a>
</h3>
<p>You can find the R code for this graphic <a href="inst/examples/bar_chart.R">here</a>.</p>
<p><img src="reference/figures/bar_chart.png" alt="example bar chart" height="400"></p>
</div>
<div class="section level3">
<h3 id="stacked-bar-chart">Stacked Bar Chart<a class="anchor" aria-label="anchor" href="#stacked-bar-chart"></a>
</h3>
<p>You can find the R code for this graphic <a href="inst/examples/stacked_bar_chart.R">here</a>.</p>
<p><img src="reference/figures/stacked_bar_chart.png" height="400"></p>
</div>
<div class="section level3">
<h3 id="grouped-bar-chart">Grouped Bar Chart<a class="anchor" aria-label="anchor" href="#grouped-bar-chart"></a>
</h3>
<p>You can find the R code for this graphic <a href="inst/examples/grouped_bar_chart.R">here</a>.</p>
<p><img src="reference/figures/grouped_bar_chart.png" alt="example grouped bar chart" height="400"></p>
</div>
</div>
<div class="section level2">
<h2 id="pyramid-chart">Pyramid Chart<a class="anchor" aria-label="anchor" href="#pyramid-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/pyramid_chart.R">here</a>.</p>
<p><img src="reference/figures/pyramid_chart.png" alt="example pyramid chart" height="400"></p>
</div>
<div class="section level2">
<h2 id="histogram-chart">Histogram Chart<a class="anchor" aria-label="anchor" href="#histogram-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/histogram_chart.R">here</a>.</p>
<p><img src="reference/figures/histogram_chart.png" alt="example histogram" height="400"></p>
</div>
<div class="section level2">
<h2 id="boxplot-chart">Boxplot Chart<a class="anchor" aria-label="anchor" href="#boxplot-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/boxplot_chart.R">here</a>.</p>
<p><img src="reference/figures/boxplot_chart.png" alt="example boxplot" height="400"></p>
</div>
<div class="section level2">
<h2 id="line-chart">Line Chart<a class="anchor" aria-label="anchor" href="#line-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/line_chart.R">here</a>.</p>
<p><img src="reference/figures/line_chart.png" alt="example line chart" height="400"></p>
</div>
<div class="section level2">
<h2 id="area-chart">Area Chart<a class="anchor" aria-label="anchor" href="#area-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/area_chart.R">here</a>.</p>
<p><img src="reference/figures/area_chart.png" alt="example area chart" height="400"></p>
</div>
<div class="section level2">
<h2 id="scatterplot-chart">Scatterplot Chart<a class="anchor" aria-label="anchor" href="#scatterplot-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/scatterplot_chart.R">here</a>.</p>
<p><img src="reference/figures/scatterplot_chart.png" alt="example scatterplot" height="400"></p>
</div>
<div class="section level2">
<h2 id="pie-chart">Pie Chart<a class="anchor" aria-label="anchor" href="#pie-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/pie_chart.R">here</a>.</p>
<p>Note: Pie charts are usually used to show the relationship between parts and the whole of a data set, i.e. how big part A is in relation to part B, C, etc. The problem with pie charts is that they force us to compare areas (or angles), which is often quite difficult to do. Furthermore, pie charts are only used when manageable number of groups are to be compared and these groups are easily distinguishable by color.</p>
<p>We recommend using an alternative chart type if possible.</p>
<p><img src="reference/figures/pie_chart.png" alt="example pie chart, often not recommended" height="400"></p>
</div>
<div class="section level2">
<h2 id="doughnut-chart">Doughnut Chart<a class="anchor" aria-label="anchor" href="#doughnut-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/doughnut_chart.R">here</a>.</p>
<p><img src="reference/figures/doughnut_chart.png" alt="example doughnut chart" height="400"></p>
</div>
<div class="section level2">
<h2 id="heatmap-chart">Heatmap Chart<a class="anchor" aria-label="anchor" href="#heatmap-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/heatmap_chart.R">here</a>.</p>
<p><img src="reference/figures/heatmap_chart.png" alt="example heatmap" height="400"></p>
</div>
<div class="section level2">
<h2 id="ridgeline-chart">Ridgeline Chart<a class="anchor" aria-label="anchor" href="#ridgeline-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/ridgeline_chart.R">here</a>.</p>
<p><img src="reference/figures/ridgeline_chart.png" alt="example ridgeline chart" height="400"></p>
</div>
<div class="section level2">
<h2 id="map-chart">Map Chart<a class="anchor" aria-label="anchor" href="#map-chart"></a>
</h2>
<p>You can find the R code for this graphic <a href="inst/examples/map_chart.R">here</a>.</p>
<p><img src="reference/figures/map_chart.png" alt="example map" height="400"></p>
</div>
<div class="section level2">
<h2 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>If you encounter a bug, please contact <a href="mailto:statistik@zuerich.ch">statistik@zuerich.ch</a>.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/StatistikStadtZuerich/zueriplots/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing zueriplots</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alessandro Feller <br><small class="roles"> Author, maintainer </small>   </li>
<li>Statistik Stadt Zürich <br><small class="roles"> Copyright holder, funder </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=zueriplots" class="external-link"><img src="https://www.r-pkg.org/badges/version/zueriplots" alt="CRAN status"></a></li>
<li><a href="https://github.com/StatistikStadtZuerich/zueriplots/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/StatistikStadtZuerich/zueriplots/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://cmp-sdlc.stzh.ch/OE-7035/ssz-da/libraries/zueriverse/zueriplots/badges/main/pipeline.svg?key_text=GitLabPipeline&amp;key_width=100" class="external-link"><img src="https://cmp-sdlc.stzh.ch/OE-7035/ssz-da/libraries/zueriverse/zueriplots/badges/main/pipeline.svg?key_text=GitlabPipeline&amp;key_width=100" alt="GitLab Pipeline"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alessandro Feller, Statistik Stadt Zürich.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
